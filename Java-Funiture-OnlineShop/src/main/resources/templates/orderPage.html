<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="en">
<head>
    <meta charset="UTF-8">
    <title>주문 페이지</title>
    <style>
        /* CSS 스타일링 코드 */
    </style>
</head>
<body>
<h1>주문 확인</h1>
<div id="order-details">
    <h2>주문 상품</h2>
    <ul th:each="product : ${order.products}">
        <li>
            <p>상품 이름: <span th:text="${product.name}"></span></p>
            <ul th:each="option : ${product.options}">
                <li>
                    <p>옵션 이름: <span th:text="${option.name}"></span></p>
                    <p>옵션 수량: <span th:text="${option.quantity}"></span></p>
                    <p>옵션 가격: <span th:text="${option.price}"></span></p>
                    <p>옵션 총 가격: <span th:text="${option.quantity * option.price}"></span></p>
                </li>
            </ul>
            <p>상품 총 가격: <span th:text="${product.options.stream().map(option -> option.quantity * option.price).reduce(0, Integer::sum)}"></span></p>
        </li>
    </ul>
    <p>주문 총 가격: <span th:text="${order.products.stream().flatMap(product -> product.options.stream().map(option -> option.quantity * option.price)).reduce(0, Integer::sum)}"></span></p>
</div>

<div id="order-form">
    <h2>주문 정보</h2>
    <form action="/orders/save" method="post">
        <input type="hidden" name="customerName" value="고객명">
        <input type="hidden" name="customerEmail" value="고객 이메일">
        <input type="hidden" name="shippingAddress" value="배송 주소">
        <input type="hidden" name="paymentMethod" value="결제 방법">
        <!-- 필요한 주문 정보를 추가하시면 됩니다 -->
        <label for="customerName">고객명:</label>
        <input type="text" id="customerName" name="customerName" required><br>

        <label for="customerEmail">고객 이메일:</label>
        <input type="email" id="customerEmail" name="customerEmail" required><br>

        <label for="shippingAddress">배송 주소:</label>
        <input type="text" id="shippingAddress" name="shippingAddress" required><br>

        <label for="paymentMethod">결제 방법:</label>
        <select id="paymentMethod" name="paymentMethod" required>
            <option value="">-- 선택하세요 --</option>
            <option value="card">카드</option>
        </select><br>

        <!-- 결제하기 버튼 -->
        <button onclick="window.location.href = '외부 결제 페이지 URL'">결제하기</button>
    </form>
</div>

<script>

</script>
</body>
</html>
