<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>카테고리별 상품리스트</title>
    <style>
        /* 기존 CSS 코드 유지 */
    </style>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
</head>
<body>
<div class="product-grid">
    <!-- th:each를 이용하여 상품 목록 반복 -->
    <div th:each="product : ${products.content}">
        <!-- 상품 이미지의 존재 여부를 확인하고, 적절한 URL로 이미지 표시 -->
        <img th:if="${product.file}" th:src="@{'/product/image/' + ${product.file.id}}" alt="Product image">
        <!-- 상품명 표시 -->
        <div th:text="${product.productName}"></div>
        <!-- 상품 가격 표시 -->
        <div th:text="${product.price + '원'}"></div>
    </div>
</div>
<!-- 페이지네이션 버튼 -->
<div>
    <button th:if="${products.hasPrevious()}" th:onclick="'location.href=\'/category/show/' + ${categoryId} + '?page=' + (${products.number} - 1) + '\''">이전 페이지</button>
    <button th:if="${products.hasNext()}" th:onclick="'location.href=\'/category/show/' + ${categoryId} + '?page=' + (${products.number} + 1) + '\''">다음 페이지</button>
</div>
</body>
</html>
