<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>카테고리별 상품리스트</title>
    <style>
        .product-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            grid-gap: 10px;
        }
        .product-grid div {
            border: 1px solid #ddd;
            padding: 10px;
        }
    </style>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
</head>
<body>
<div class="product-grid" th:each="product : ${products}">
    <div>
        <!-- Thymeleaf를 사용하여 이미지 URL 구성 -->
        <div th:each="fileProduct : ${product.files}">
            <img id="productImage" th:src="@{'/product/images/' + ${product.id}}" alt="Product image">
        </div>
        <!-- 상품 ID 정보를 뷰에서 숨김 -->
        <div th:id="${product.id}" style="display: none;"></div>
        <div th:text="${product.productName}"></div>
        <div th:text="${product.price + '원'}"></div>
    </div>
</div>
<button id="prevPage">이전 페이지</button>
<button id="nextPage">다음 페이지</button>
<script>
    $(document).ready(function(){
        var page = 0;
        var size = 12;
        $('#prevPage').click(function(){
            if(page > 0){
                page--;
                window.location.href = "/category/show/" + page;
            }
        });
        $('#nextPage').click(function(){
            page++;
            window.location.href = "/category/show/" + page;
        });
    });
</script>
</body>
</html>
